digraph {
	compound = "true"
	newrank = "true"
	subgraph "root" {
		"[root] aws_acm_certificate.jenkins-lb-https (expand)" [label = "aws_acm_certificate.jenkins-lb-https", shape = "box"]
		"[root] aws_acm_certificate_validation.cert (expand)" [label = "aws_acm_certificate_validation.cert", shape = "box"]
		"[root] aws_instance.jenkins-primary (expand)" [label = "aws_instance.jenkins-primary", shape = "box"]
		"[root] aws_instance.jenkins_secondary (expand)" [label = "aws_instance.jenkins_secondary", shape = "box"]
		"[root] aws_internet_gateway.igw_primary (expand)" [label = "aws_internet_gateway.igw_primary", shape = "box"]
		"[root] aws_internet_gateway.igw_secondary (expand)" [label = "aws_internet_gateway.igw_secondary", shape = "box"]
		"[root] aws_key_pair.primary_key (expand)" [label = "aws_key_pair.primary_key", shape = "box"]
		"[root] aws_key_pair.secondary_key (expand)" [label = "aws_key_pair.secondary_key", shape = "box"]
		"[root] aws_lb.application-lb (expand)" [label = "aws_lb.application-lb", shape = "box"]
		"[root] aws_lb_listener.jenkins-listener-http (expand)" [label = "aws_lb_listener.jenkins-listener-http", shape = "box"]
		"[root] aws_lb_listener.jenkins-listener-https (expand)" [label = "aws_lb_listener.jenkins-listener-https", shape = "box"]
		"[root] aws_lb_target_group.app-lb-tg (expand)" [label = "aws_lb_target_group.app-lb-tg", shape = "box"]
		"[root] aws_lb_target_group_attachment.jenkins_primary_attach (expand)" [label = "aws_lb_target_group_attachment.jenkins_primary_attach", shape = "box"]
		"[root] aws_main_route_table_association.set-primary-default-rt-assoc (expand)" [label = "aws_main_route_table_association.set-primary-default-rt-assoc", shape = "box"]
		"[root] aws_main_route_table_association.set-secondary-default-rt-assoc (expand)" [label = "aws_main_route_table_association.set-secondary-default-rt-assoc", shape = "box"]
		"[root] aws_route53_record.cert_validation (expand)" [label = "aws_route53_record.cert_validation", shape = "box"]
		"[root] aws_route53_record.jenkins (expand)" [label = "aws_route53_record.jenkins", shape = "box"]
		"[root] aws_route_table.internet_route_primary (expand)" [label = "aws_route_table.internet_route_primary", shape = "box"]
		"[root] aws_route_table.internet_route_secondary (expand)" [label = "aws_route_table.internet_route_secondary", shape = "box"]
		"[root] aws_security_group.jenkins_sg_primary (expand)" [label = "aws_security_group.jenkins_sg_primary", shape = "box"]
		"[root] aws_security_group.jenkins_sg_secondary (expand)" [label = "aws_security_group.jenkins_sg_secondary", shape = "box"]
		"[root] aws_security_group.lb_sg (expand)" [label = "aws_security_group.lb_sg", shape = "box"]
		"[root] aws_subnet.primary_subnet_1 (expand)" [label = "aws_subnet.primary_subnet_1", shape = "box"]
		"[root] aws_subnet.primary_subnet_2 (expand)" [label = "aws_subnet.primary_subnet_2", shape = "box"]
		"[root] aws_subnet.secondary_subnet_1 (expand)" [label = "aws_subnet.secondary_subnet_1", shape = "box"]
		"[root] aws_vpc.vpc_primary (expand)" [label = "aws_vpc.vpc_primary", shape = "box"]
		"[root] aws_vpc.vpc_secondary (expand)" [label = "aws_vpc.vpc_secondary", shape = "box"]
		"[root] aws_vpc_peering_connection.primary_to_secondary (expand)" [label = "aws_vpc_peering_connection.primary_to_secondary", shape = "box"]
		"[root] aws_vpc_peering_connection_accepter.secondary_accept_peering (expand)" [label = "aws_vpc_peering_connection_accepter.secondary_accept_peering", shape = "box"]
		"[root] data.aws_availability_zones.azs (expand)" [label = "data.aws_availability_zones.azs", shape = "box"]
		"[root] data.aws_route53_zone.dns (expand)" [label = "data.aws_route53_zone.dns", shape = "box"]
		"[root] data.aws_ssm_parameter.linuxAMI_primary (expand)" [label = "data.aws_ssm_parameter.linuxAMI_primary", shape = "box"]
		"[root] data.aws_ssm_parameter.linuxAMI_secondary (expand)" [label = "data.aws_ssm_parameter.linuxAMI_secondary", shape = "box"]
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary" [label = "provider[\"registry.terraform.io/hashicorp/aws\"].region-primary", shape = "diamond"]
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-secondary" [label = "provider[\"registry.terraform.io/hashicorp/aws\"].region-secondary", shape = "diamond"]
		"[root] var.dns-name" [label = "var.dns-name", shape = "note"]
		"[root] var.external-ip" [label = "var.external-ip", shape = "note"]
		"[root] var.instance-type" [label = "var.instance-type", shape = "note"]
		"[root] var.profile" [label = "var.profile", shape = "note"]
		"[root] var.region-primary" [label = "var.region-primary", shape = "note"]
		"[root] var.region-secondary" [label = "var.region-secondary", shape = "note"]
		"[root] var.secondary-count" [label = "var.secondary-count", shape = "note"]
		"[root] var.webserver-port" [label = "var.webserver-port", shape = "note"]
		"[root] aws_acm_certificate.jenkins-lb-https (expand)" -> "[root] data.aws_route53_zone.dns (expand)"
		"[root] aws_acm_certificate_validation.cert (expand)" -> "[root] aws_route53_record.cert_validation (expand)"
		"[root] aws_instance.jenkins-primary (expand)" -> "[root] aws_key_pair.primary_key (expand)"
		"[root] aws_instance.jenkins-primary (expand)" -> "[root] aws_main_route_table_association.set-primary-default-rt-assoc (expand)"
		"[root] aws_instance.jenkins-primary (expand)" -> "[root] aws_security_group.jenkins_sg_primary (expand)"
		"[root] aws_instance.jenkins-primary (expand)" -> "[root] aws_subnet.primary_subnet_1 (expand)"
		"[root] aws_instance.jenkins-primary (expand)" -> "[root] data.aws_ssm_parameter.linuxAMI_primary (expand)"
		"[root] aws_instance.jenkins-primary (expand)" -> "[root] provisioner.local-exec"
		"[root] aws_instance.jenkins-primary (expand)" -> "[root] var.instance-type"
		"[root] aws_instance.jenkins_secondary (expand)" -> "[root] aws_instance.jenkins-primary (expand)"
		"[root] aws_instance.jenkins_secondary (expand)" -> "[root] aws_key_pair.secondary_key (expand)"
		"[root] aws_instance.jenkins_secondary (expand)" -> "[root] aws_main_route_table_association.set-secondary-default-rt-assoc (expand)"
		"[root] aws_instance.jenkins_secondary (expand)" -> "[root] aws_security_group.jenkins_sg_secondary (expand)"
		"[root] aws_instance.jenkins_secondary (expand)" -> "[root] aws_subnet.secondary_subnet_1 (expand)"
		"[root] aws_instance.jenkins_secondary (expand)" -> "[root] data.aws_ssm_parameter.linuxAMI_secondary (expand)"
		"[root] aws_instance.jenkins_secondary (expand)" -> "[root] var.secondary-count"
		"[root] aws_internet_gateway.igw_primary (expand)" -> "[root] aws_vpc.vpc_primary (expand)"
		"[root] aws_internet_gateway.igw_secondary (expand)" -> "[root] aws_vpc.vpc_secondary (expand)"
		"[root] aws_key_pair.primary_key (expand)" -> "[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary"
		"[root] aws_key_pair.secondary_key (expand)" -> "[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-secondary"
		"[root] aws_lb.application-lb (expand)" -> "[root] aws_security_group.lb_sg (expand)"
		"[root] aws_lb.application-lb (expand)" -> "[root] aws_subnet.primary_subnet_1 (expand)"
		"[root] aws_lb.application-lb (expand)" -> "[root] aws_subnet.primary_subnet_2 (expand)"
		"[root] aws_lb_listener.jenkins-listener-http (expand)" -> "[root] aws_lb.application-lb (expand)"
		"[root] aws_lb_listener.jenkins-listener-https (expand)" -> "[root] aws_acm_certificate.jenkins-lb-https (expand)"
		"[root] aws_lb_listener.jenkins-listener-https (expand)" -> "[root] aws_lb.application-lb (expand)"
		"[root] aws_lb_listener.jenkins-listener-https (expand)" -> "[root] aws_lb_target_group.app-lb-tg (expand)"
		"[root] aws_lb_target_group.app-lb-tg (expand)" -> "[root] aws_vpc.vpc_primary (expand)"
		"[root] aws_lb_target_group.app-lb-tg (expand)" -> "[root] var.webserver-port"
		"[root] aws_lb_target_group_attachment.jenkins_primary_attach (expand)" -> "[root] aws_instance.jenkins-primary (expand)"
		"[root] aws_lb_target_group_attachment.jenkins_primary_attach (expand)" -> "[root] aws_lb_target_group.app-lb-tg (expand)"
		"[root] aws_main_route_table_association.set-primary-default-rt-assoc (expand)" -> "[root] aws_route_table.internet_route_primary (expand)"
		"[root] aws_main_route_table_association.set-secondary-default-rt-assoc (expand)" -> "[root] aws_route_table.internet_route_secondary (expand)"
		"[root] aws_route53_record.cert_validation (expand)" -> "[root] aws_acm_certificate.jenkins-lb-https (expand)"
		"[root] aws_route53_record.jenkins (expand)" -> "[root] aws_lb.application-lb (expand)"
		"[root] aws_route53_record.jenkins (expand)" -> "[root] data.aws_route53_zone.dns (expand)"
		"[root] aws_route_table.internet_route_primary (expand)" -> "[root] aws_internet_gateway.igw_primary (expand)"
		"[root] aws_route_table.internet_route_primary (expand)" -> "[root] aws_vpc_peering_connection.primary_to_secondary (expand)"
		"[root] aws_route_table.internet_route_secondary (expand)" -> "[root] aws_internet_gateway.igw_secondary (expand)"
		"[root] aws_route_table.internet_route_secondary (expand)" -> "[root] aws_vpc_peering_connection.primary_to_secondary (expand)"
		"[root] aws_security_group.jenkins_sg_primary (expand)" -> "[root] aws_security_group.lb_sg (expand)"
		"[root] aws_security_group.jenkins_sg_primary (expand)" -> "[root] var.external-ip"
		"[root] aws_security_group.jenkins_sg_primary (expand)" -> "[root] var.webserver-port"
		"[root] aws_security_group.jenkins_sg_secondary (expand)" -> "[root] aws_vpc.vpc_secondary (expand)"
		"[root] aws_security_group.jenkins_sg_secondary (expand)" -> "[root] var.external-ip"
		"[root] aws_security_group.lb_sg (expand)" -> "[root] aws_vpc.vpc_primary (expand)"
		"[root] aws_subnet.primary_subnet_1 (expand)" -> "[root] aws_vpc.vpc_primary (expand)"
		"[root] aws_subnet.primary_subnet_1 (expand)" -> "[root] data.aws_availability_zones.azs (expand)"
		"[root] aws_subnet.primary_subnet_2 (expand)" -> "[root] aws_vpc.vpc_primary (expand)"
		"[root] aws_subnet.primary_subnet_2 (expand)" -> "[root] data.aws_availability_zones.azs (expand)"
		"[root] aws_subnet.secondary_subnet_1 (expand)" -> "[root] aws_vpc.vpc_secondary (expand)"
		"[root] aws_vpc.vpc_primary (expand)" -> "[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary"
		"[root] aws_vpc.vpc_secondary (expand)" -> "[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-secondary"
		"[root] aws_vpc_peering_connection.primary_to_secondary (expand)" -> "[root] aws_vpc.vpc_primary (expand)"
		"[root] aws_vpc_peering_connection.primary_to_secondary (expand)" -> "[root] aws_vpc.vpc_secondary (expand)"
		"[root] aws_vpc_peering_connection_accepter.secondary_accept_peering (expand)" -> "[root] aws_vpc_peering_connection.primary_to_secondary (expand)"
		"[root] data.aws_availability_zones.azs (expand)" -> "[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary"
		"[root] data.aws_route53_zone.dns (expand)" -> "[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary"
		"[root] data.aws_route53_zone.dns (expand)" -> "[root] var.dns-name"
		"[root] data.aws_ssm_parameter.linuxAMI_primary (expand)" -> "[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary"
		"[root] data.aws_ssm_parameter.linuxAMI_secondary (expand)" -> "[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-secondary"
		"[root] meta.count-boundary (EachMode fixup)" -> "[root] aws_acm_certificate_validation.cert (expand)"
		"[root] meta.count-boundary (EachMode fixup)" -> "[root] aws_lb_listener.jenkins-listener-http (expand)"
		"[root] meta.count-boundary (EachMode fixup)" -> "[root] aws_lb_listener.jenkins-listener-https (expand)"
		"[root] meta.count-boundary (EachMode fixup)" -> "[root] aws_lb_target_group_attachment.jenkins_primary_attach (expand)"
		"[root] meta.count-boundary (EachMode fixup)" -> "[root] aws_vpc_peering_connection_accepter.secondary_accept_peering (expand)"
		"[root] meta.count-boundary (EachMode fixup)" -> "[root] output.Jenkins-Main-Node-Public-IP (expand)"
		"[root] meta.count-boundary (EachMode fixup)" -> "[root] output.Jenkins-Secondary-Node-Public-IP (expand)"
		"[root] meta.count-boundary (EachMode fixup)" -> "[root] output.LB_DNS_NAME (expand)"
		"[root] meta.count-boundary (EachMode fixup)" -> "[root] output.url (expand)"
		"[root] output.Jenkins-Main-Node-Public-IP (expand)" -> "[root] aws_instance.jenkins-primary (expand)"
		"[root] output.Jenkins-Secondary-Node-Public-IP (expand)" -> "[root] aws_instance.jenkins_secondary (expand)"
		"[root] output.LB_DNS_NAME (expand)" -> "[root] aws_lb.application-lb (expand)"
		"[root] output.url (expand)" -> "[root] aws_route53_record.jenkins (expand)"
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary (close)" -> "[root] aws_acm_certificate_validation.cert (expand)"
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary (close)" -> "[root] aws_lb_listener.jenkins-listener-http (expand)"
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary (close)" -> "[root] aws_lb_listener.jenkins-listener-https (expand)"
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary (close)" -> "[root] aws_lb_target_group_attachment.jenkins_primary_attach (expand)"
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary (close)" -> "[root] aws_route53_record.jenkins (expand)"
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary" -> "[root] var.profile"
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary" -> "[root] var.region-primary"
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-secondary (close)" -> "[root] aws_instance.jenkins_secondary (expand)"
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-secondary (close)" -> "[root] aws_vpc_peering_connection_accepter.secondary_accept_peering (expand)"
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-secondary" -> "[root] var.profile"
		"[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-secondary" -> "[root] var.region-secondary"
		"[root] provisioner.local-exec (close)" -> "[root] aws_instance.jenkins_secondary (expand)"
		"[root] root" -> "[root] meta.count-boundary (EachMode fixup)"
		"[root] root" -> "[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-primary (close)"
		"[root] root" -> "[root] provider[\"registry.terraform.io/hashicorp/aws\"].region-secondary (close)"
		"[root] root" -> "[root] provisioner.local-exec (close)"
	}
}

